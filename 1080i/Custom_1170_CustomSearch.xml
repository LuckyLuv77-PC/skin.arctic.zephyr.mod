<?xml version="1.0" encoding="UTF-8"?>
<window type="window" id="1170">
    <onload condition="String.IsEmpty(Skin.String(searchterm))">Back</onload>
    <onunload>ClearProperty(searchterm,home)</onunload>
    <onload condition="!String.IsEmpty(Window(home).Property(searchterm))">RunScript(script.embuary.helper,action=resetposition,container=3000||3101||3201||3301||3401||3501||3601||3701||3801||3901||4001||4101||4201||4301||4401||4501||4901||5001)</onload>
    <defaultcontrol always="true">3000</defaultcontrol>
    <controls>
        <include>GlobalBackground</include>
        <include>Furniture_Clock</include>
        <include>Furniture_Flags</include>
        <control type="group">
            <include>Animation.Common</include>

            <!-- Menu -->
            <control type="group">
                <animation condition="Control.HasFocus(9100)" effect="slide" end="200,0" start="0,0" reversible="true" time="300" tween="sine">Conditional</animation>
                <control type="group">
                    <left>-200</left>
                    <control type="image">                    
                        <width>280</width>
                        <height>1080</height>
                        <texture colordiffuse="Fallback">common/white.png</texture>
                    </control>
                </control>
                
                <!-- Settings, Search -->
                <control type="list" id="9100">
                    <left>-200</left>
                    <top>150</top>  
                    <ondown>9100</ondown>
                    <onup>9100</onup>
                    <onleft>3000</onleft>
                    <onright>3000</onright>
                    <onback>3000</onback>
                    <orientation>vertical</orientation>
                    <scrolltime>200</scrolltime>
                    <animation effect="fade" start="100" end="33" time="150" condition="!Control.HasFocus(9100)">Conditional</animation>
                    <itemlayout width="280" height="70">
                        <control type="label">
                            <aligny>center</aligny>
                            <width>100%</width>
                            <centertop>50%</centertop>
                            <height>100%</height>
                            <textcolor>Dark2</textcolor>
                            <left>30</left>
                            <include>DefContextButton</include>
                            <label>$INFO[ListItem.Label]</label>
                        </control>
                    </itemlayout>
                    <focusedlayout width="280" height="70">
                        <control type="image">
                            <width>100%</width>
                            <height>100%</height>
                            <texture colordiffuse="$VAR[ColorSelectOtherBar]">common/white.png</texture>
                        </control>
                        <control type="image">
                            <width>100%</width>
                            <height>100%</height>
                            <texture border="8" colordiffuse="$VAR[ColorHighlightOtherBar]">common/gradient-box-wide.png</texture>
                        </control>
                        <control type="label">
                            <aligny>center</aligny>
                            <width>100%</width>
                            <centertop>50%</centertop>
                            <height>100%</height>
                            <textcolor>Selected</textcolor>
                            <left>30</left>
                            <include>DefContextButton</include>
                            <label>$INFO[ListItem.Label]</label>
                        </control>
                    </focusedlayout>
                    <content>
                        <item>
                            <label>New Search</label>
                            <onclick>Skin.SetString(searchterm)</onclick>
                            <onclick condition="!Integer.IsGreater(Container(3101).NumItems,0) + !Integer.IsGreater(Container(3201).NumItems,0) + !Integer.IsGreater(Container(3301).NumItems,0) + !Integer.IsGreater(Container(3401).NumItems,0) + !Integer.IsGreater(Container(3501).NumItems,0) + !Integer.IsGreater(Container(3601).NumItems,0) + !Integer.IsGreater(Container(3701).NumItems,0) + !Integer.IsGreater(Container(3801).NumItems,0) + !Integer.IsGreater(Container(3901).NumItems,0) + !Integer.IsGreater(Container(4001).NumItems,0) + !Integer.IsGreater(Container(4101).NumItems,0) + !Integer.IsGreater(Container(4201).NumItems,0) + !Integer.IsGreater(Container(4301).NumItems,0) + !Integer.IsGreater(Container(4401).NumItems,0) + !Integer.IsGreater(Container(4501).NumItems,0) + !Integer.IsGreater(Container(4601).NumItems,0) + !Integer.IsGreater(Container(4701).NumItems,0) + !Integer.IsGreater(Container(4801).NumItems,0) + !Integer.IsGreater(Container(4901).NumItems,0)">ReloadSkin()</onclick>
                        </item>
                        <item>
                            <label>$LOCALIZE[5]</label>
                        </item>
                    </content>             
                </control>
                
                <!-- Results -->
                <control type="grouplist" id="3000">
                    <top>90</top>
                    <include content="def_left" condition="Skin.HasSetting(old.widgets.movement)"><param name="left" value="70" /></include>
                    <left>0</left>
                    <right>0</right>
                    <orientation>vertical</orientation>
                    <height>830</height>
                    <include>ScrolltimeWidgetsList</include>            
                    <itemgap>0</itemgap>
                    <usecontrolcoords>true</usecontrolcoords>                
                    <include condition="!String.IsEmpty(Skin.String(searchterm))">Custom_Search_Items</include>                    
                    <control type="button" id="9001">
                        <onleft>9100</onleft>
                        <visible>!Integer.IsGreater(Container(3101).NumItems,0) + !Integer.IsGreater(Container(3201).NumItems,0) + !Integer.IsGreater(Container(3301).NumItems,0) + !Integer.IsGreater(Container(3401).NumItems,0) + !Integer.IsGreater(Container(3501).NumItems,0) + !Integer.IsGreater(Container(3601).NumItems,0) + !Integer.IsGreater(Container(3701).NumItems,0) + !Integer.IsGreater(Container(3801).NumItems,0) + !Integer.IsGreater(Container(3901).NumItems,0) + !Integer.IsGreater(Container(4001).NumItems,0) + !Integer.IsGreater(Container(4101).NumItems,0) + !Integer.IsGreater(Container(4201).NumItems,0) + !Integer.IsGreater(Container(4301).NumItems,0) + !Integer.IsGreater(Container(4401).NumItems,0) + !Integer.IsGreater(Container(4501).NumItems,0) + !Integer.IsGreater(Container(4601).NumItems,0) + !Integer.IsGreater(Container(4701).NumItems,0) + !Integer.IsGreater(Container(4801).NumItems,0) + !Integer.IsGreater(Container(4901).NumItems,0)</visible>
                    </control>
                </control>
                <control type="label">
                    <align>center</align>
                    <centertop>50%</centertop>
                    <height>38</height>
                    <font>SmallNavi</font>
                    <width>auto</width>
                    <textcolor>Dark1</textcolor>
                    <label>31222</label>
                    <visible>!Integer.IsGreater(Container(3000).NumItems,1) + !Container(3000).IsUpdating</visible>
                    <include>Animation.Vertical.Widgets.Title</include>
                </control>            
                                
            </control>            
            <include>Furniture_Flags</include>
            <include>SearchNavigationArrows</include>
        </control>
    </controls>
</window>
